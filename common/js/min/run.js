$(function(){function e(){function e(){var e=r/s*100;o+=.1*(e-o),n.css({width:o+"%"}),a.text(Math.floor(o)+"%"),o>=100&&(clearInterval(c),t.addClass("progress-complete"),n.add(a).delay(500).animate({opacity:0},250,function(){t.animate({top:"-100%",opacity:0})})),o>99.9&&(o=100)}var t=$(".progress"),n=t.find(".progress-bar"),a=t.find(".progress-text"),i=imagesLoaded("body"),s=i.images.length,r=0,o=0,c=setInterval(e,1e3/60);i.on("progress",function(){r++})}function t(e){var t,a=$(this).find(".caption"),i=n(e),s={top:"0%",left:"0%"},r=function(){switch(i){case 0:return{top:"-100%",left:"0%"};case 1:return{top:"0%",left:"100%"};case 2:return{top:"100%",left:"0%"};default:return{top:"0%",left:"-100%"}}}();"mouseenter"===e.type?(t=s,a.css(r)):t=r,a.stop(!0).animate(t,250,"easeOutExpo")}function n(e){var t=$(e.currentTarget),n=t.offset(),a=t.outerWidth(),i=t.outerHeight(),s=(e.pageX-n.left-a/2)*(a>i?i/a:1),r=(e.pageY-n.top-i/2)*(i>a?a/i:1),o=Math.round((Math.atan2(r,s)*(180/Math.PI)+180)/90+3)%4;return o}$("body").removeClass("no-js"),e(),$(".carousel").each(function(){function e(e){o.stop().animate({"margin-left":-100*e+"%"},m,g),p=e,c.find("a").attr("tabindex",-1),c.eq(p).find("a").attr("tabindex",0),t()}function t(){var e=d.find(".prev"),t=d.find(".next");0===p?e.addClass("disabled"):e.removeClass("disabled"),p===u-1?t.addClass("disabled"):t.removeClass("disabled"),l.find("li").removeClass("active").eq(p).addClass("active")}function n(){s=setInterval(function(){var t=(p+1)%u;e(t)},C)}function a(){clearInterval(s)}function i(e){f=e.width(),h=f*u;for(var t=0;u>t;t++)c.eq(t).css({width:f});o.css({width:h})}var s,r=$(this),o=r.find(".carousel-item"),c=o.find("li"),d=r.find(".carousel-nav"),l=r.find(".carousel-indicator"),u=c.length,f=o.width(),h=f*u,v=(r.width(),""),p=0,m=500,g="easeOutCirc",C=3e3;d.children("a").attr("tabindex",-1);for(var w=0;u>w;w++)c.eq(w).css({width:f}),v+="<li><a href=#><span>"+(w+1)+"</span></a></li>",l.html(v);o.css({width:h}),d.on("click","a",function(t){t.preventDefault(),e($(this).hasClass("prev")?p-1:p+1)}),l.on("click","li",function(t){t.preventDefault(),$(this).hasClass("active")||e($(this).index())}),r.on("mouseenter mouseleave focusin focusout",function(e){"mouseenter"===e.type||"focusin"===e.type?a():("mouseleave"===e.type||"focusout"===e.type)&&(a(),n())});var b=null;$(window).resize(function(){null!=b&&clearTimeout(b),b=setTimeout(function(){i(r)},100)}),$(window).trigger("resize");var x,y,q,I,M,T;c.on({touchstart:function(e){a(),x=e.originalEvent.changedTouches[0].pageX,M=parseInt(o.css("margin-left")),T=$(this).index()},touchmove:function(e){e.preventDefault(),a(),y=e.originalEvent.changedTouches[0].pageX,q=Math.round(y-x),I=Math.abs(q),q>0&&0!==T?o.css({"margin-left":M+I+"px"}):0>q&&T+1!==u&&o.css({"margin-left":M-I+"px"})},touchend:function(t){n(),I>f/4?q>0&&0!==T?e(T-1):0>q&&T+1!==u&&e(T+1):e(T)}}),e(p),n()}),$(".slider").each(function(){var e=$(this),t=e.find(".slider-item"),n=e.find("li"),a=n.length,i=n.width(),s=.4*i,r=s*a;n.width(s),t.width(r)}),$(".hover-effect").on("mouseenter mouseleave","a",t);for(var a=$(".header-menu"),i=a.length,s=0;i>s;s++)a.eq(s).attr("id","0"+s);a.on("click",function(){var e=$(this).attr("id"),t="header-menu-on-"+e,n="header-menu-off-"+e;$(this).hasClass(t)?$(this).removeClass(t).addClass(n):$(this).removeClass(n).addClass(t)});var r=$(".video-switch"),o=r.find(".switch-btn"),c=o.find("a"),d=r.find(".youtube iframe");c.eq(0).addClass("current"),c.on("click",function(e){e.preventDefault(),c.removeClass("current"),$(this).addClass("current"),d.attr("src",this.href)})});