$(function(){function e(){function e(){var e=o/a*100;d+=.1*(e-d),n.css({width:d+"%"}),s.text(Math.floor(d)+"%"),d>=100&&(clearInterval(c),t.addClass("progress-complete"),n.add(s).delay(500).animate({opacity:0},250,function(){t.animate({top:"-100%",opacity:0})})),d>99.9&&(d=100)}var t=$(".progress"),n=t.find(".progress-bar"),s=t.find(".progress-text"),i=imagesLoaded("body"),a=i.images.length,o=0,d=0,c=setInterval(e,1e3/60);i.on("progress",function(){o++})}$("body").removeClass("no-js"),e();var t=$(".slideshow img").not(":first");t.css({display:"none"}),setTimeout(function(){t.css({display:"block"})}),$(".slideshow").each(function(){function e(e){d.stop().animate({"margin-left":-100*e+"%"},m,g),p=e,c.find("a").attr("tabindex",-1),c.eq(p).find("a").attr("tabindex",0),t()}function t(){var e=r.find(".prev"),t=r.find(".next");0===p?e.addClass("disabled"):e.removeClass("disabled"),p===f-1?t.addClass("disabled"):t.removeClass("disabled"),l.find("li").removeClass("active").eq(p).addClass("active")}function n(){a=setInterval(function(){var t=(p+1)%f;e(t)},w)}function s(){clearInterval(a)}function i(e){u=e.width(),h=u*f;for(var t=0;f>t;t++)c.eq(t).css({width:u});d.css({width:h})}var a,o=$(this),d=o.find(".slideshow-sliders"),c=d.find("li"),r=o.find(".slideshow-nav"),l=o.find(".slideshow-indicator"),f=c.length,u=d.width(),h=u*f,v=(o.width(),""),p=0,m=500,g="easeOutCirc",w=3e3;r.children("a").attr("tabindex",-1);for(var b=0;f>b;b++)c.eq(b).css({width:u}),v+="<li><a href=#><span>"+(b+1)+"</span></a></li>",l.html(v);d.css({width:h}),r.on("click","a",function(t){t.preventDefault(),e($(this).hasClass("prev")?p-1:p+1)}),l.on("click","li",function(t){t.preventDefault(),$(this).hasClass("active")||e($(this).index())}),o.on("mouseenter mouseleave focusin focusout",function(e){"mouseenter"===e.type||"focusin"===e.type?s():("mouseleave"===e.type||"focusout"===e.type)&&(s(),n())});var y=!1;$(window).resize(function(){y!==!1&&clearTimeout(y),y=setTimeout(function(){i(o)},100)});var C,x,I,T,q,k;c.on({touchstart:function(e){s(),C=event.changedTouches[0].pageX,q=parseInt(d.css("margin-left")),k=$(this).index()},touchmove:function(e){e.preventDefault(),s(),x=event.changedTouches[0].pageX,I=Math.round(x-C),T=Math.abs(I),I>0&&0!==k?d.css({"margin-left":q+T+"px"}):0>I&&k+1!==f&&d.css({"margin-left":q-T+"px"})},touchend:function(t){n(),T>u/3?I>0&&0!==k?e(k-1):0>I&&k+1!==f&&e(k+1):e(k)}}),e(p),n()})});