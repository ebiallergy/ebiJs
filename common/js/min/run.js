$(function(){function e(){function e(){var e=o/s*100;r+=.1*(e-r),n.css({width:r+"%"}),a.text(Math.floor(r)+"%"),r>=100&&(clearInterval(c),t.addClass("progress-complete"),n.add(a).delay(500).animate({opacity:0},250,function(){t.animate({top:"-100%",opacity:0})})),r>99.9&&(r=100)}var t=$(".progress"),n=t.find(".progress-bar"),a=t.find(".progress-text"),i=imagesLoaded("body"),s=i.images.length,o=0,r=0,c=setInterval(e,1e3/60);i.on("progress",function(){o++})}function t(e){var t,a=$(this).find(".caption"),i=n(e),s={top:"0%",left:"0%"},o=function(){switch(i){case 0:return{top:"-100%",left:"0%"};case 1:return{top:"0%",left:"100%"};case 2:return{top:"100%",left:"0%"};default:return{top:"0%",left:"-100%"}}}();"mouseenter"===e.type?(t=s,a.css(o)):t=o,a.stop(!0).animate(t,250,"easeOutExpo")}function n(e){var t=$(e.currentTarget),n=t.offset(),a=t.outerWidth(),i=t.outerHeight(),s=(e.pageX-n.left-a/2)*(a>i?i/a:1),o=(e.pageY-n.top-i/2)*(i>a?a/i:1),r=Math.round((Math.atan2(o,s)*(180/Math.PI)+180)/90+3)%4;return r}$("body").removeClass("no-js"),e(),$(".hover-effect").on("mouseenter mouseleave","a",t),$(".carousel").each(function(){function e(e){r.stop().animate({"margin-left":-100*e+"%"},m,g),v=e,c.find("a").attr("tabindex",-1),c.eq(v).find("a").attr("tabindex",0),t()}function t(){var e=u.find(".prev"),t=u.find(".next");0===v?e.addClass("disabled"):e.removeClass("disabled"),v===f-1?t.addClass("disabled"):t.removeClass("disabled"),l.find("li").removeClass("active").eq(v).addClass("active")}function n(){s=setInterval(function(){var t=(v+1)%f;e(t)},w)}function a(){clearInterval(s)}function i(e){d=e.width(),h=d*f;for(var t=0;f>t;t++)c.eq(t).css({width:d});r.css({width:h})}var s,o=$(this),r=o.find(".carousel-item"),c=r.find("li"),u=o.find(".carousel-nav"),l=o.find(".carousel-indicator"),f=c.length,d=r.width(),h=d*f,p=(o.width(),""),v=0,m=500,g="easeOutCirc",w=3e3;u.children("a").attr("tabindex",-1);for(var b=0;f>b;b++)c.eq(b).css({width:d}),p+="<li><a href=#><span>"+(b+1)+"</span></a></li>",l.html(p);r.css({width:h}),u.on("click","a",function(t){t.preventDefault(),e($(this).hasClass("prev")?v-1:v+1)}),l.on("click","li",function(t){t.preventDefault(),$(this).hasClass("active")||e($(this).index())}),o.on("mouseenter mouseleave focusin focusout",function(e){"mouseenter"===e.type||"focusin"===e.type?a():("mouseleave"===e.type||"focusout"===e.type)&&(a(),n())});var x=null;$(window).resize(function(){null!=x&&clearTimeout(x),x=setTimeout(function(){i(o)},100)}),$(window).trigger("resize");var C,y,I,M,T,q;c.on({touchstart:function(e){a(),C=e.originalEvent.changedTouches[0].pageX,T=parseInt(r.css("margin-left")),q=$(this).index()},touchmove:function(e){e.preventDefault(),a(),y=e.originalEvent.changedTouches[0].pageX,I=Math.round(y-C),M=Math.abs(I),I>0&&0!==q?r.css({"margin-left":T+M+"px"}):0>I&&q+1!==f&&r.css({"margin-left":T-M+"px"})},touchend:function(t){n(),M>d/4?I>0&&0!==q?e(q-1):0>I&&q+1!==f&&e(q+1):e(q)}}),e(v),n()})});